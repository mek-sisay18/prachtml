<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Simple ToDo App</title>
</head>
<body>
    <h1>Simple ToDo App</h1>
    <input type="text" id="task-input" placeholder="Enter a task"/>
    <button id="add-task-btn">Add Task</button>
    <ul id="task-list"></ul>

    <script>
        const taskInput = document.getElementById('task-input');
        const addTaskBtn = document.getElementById('add-task-btn');
        const taskList = document.getElementById('task-list');

        addTaskBtn.addEventListener('click', () => {
            const taskText = taskInput.value.trim();
            if (taskText) {
                createTask(taskText);
                saveTasks();
                taskInput.value = '';
            }
        });

        function createTask(text) {
            const listItem = document.createElement('li');
            listItem.textContent = text;
            addTaskButtons(listItem);
            taskList.appendChild(listItem);
        }

        function addTaskButtons(listItem) {
            const editBtn = document.createElement('button');
            editBtn.textContent = 'Edit';
            editBtn.addEventListener('click', () => editTask(listItem));

            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = 'Delete';
            deleteBtn.addEventListener('click', () => deleteTask(listItem));

            listItem.appendChild(editBtn);
            listItem.appendChild(deleteBtn);
        }

        function editTask(listItem) {
            const updatedText = prompt('Edit the task', listItem.firstChild.textContent);
            if (updatedText) {
                listItem.firstChild.textContent = updatedText.trim();
                saveTasks();
            }
        }

        function deleteTask(listItem) {
            if (confirm('Are you sure you want to delete this task?')) {
                listItem.remove();
                saveTasks();
            }
        }

        function saveTasks() {
            const tasks = [];
            for (let item of taskList.getElementsByTagName('li')) {
                tasks.push(item.firstChild.textContent);
            }
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function loadTasks() {
            const tasks = JSON.parse(localStorage.getItem('tasks'));
            if (tasks) tasks.forEach(task => createTask(task));
        }

        document.addEventListener('DOMContentLoaded', loadTasks);
    </script>
</body>
</html>
